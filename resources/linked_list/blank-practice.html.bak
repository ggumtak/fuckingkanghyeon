<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>諛깆?蹂듭뒿 | ?곌껐 由ъ뒪??肄붾뱶 ?곗뒿</title>
    <link rel="stylesheet" href="../shared/styles.css">
    <style>
        .practice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .practice-header h2 {
            color: var(--accent);
            font-size: 1.2rem;
            font-weight: 600;
        }

        .practice-stats {
            display: flex;
            gap: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .practice-stats span {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .editor-wrapper {
            position: relative;
            background: var(--code-bg);
            border-radius: var(--radius-lg);
            border: 1px solid var(--code-border);
            overflow: hidden;
        }

        .editor-wrapper::before {
            content: '諛깆?蹂듭뒿';
            position: absolute;
            top: 12px;
            right: 16px;
            font-size: 0.7rem;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            padding: 3px 10px;
            background: var(--accent-dim);
            border-radius: 6px;
            font-weight: 500;
            z-index: 10;
        }

        .line-numbers {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 50px;
            background: rgba(0, 0, 0, 0.2);
            border-right: 1px solid var(--border);
            padding: 24px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.92rem;
            line-height: 1.85;
            color: var(--text-dim);
            text-align: right;
            padding-right: 12px;
            user-select: none;
            overflow: hidden;
            white-space: pre;
        }

        .practice-editor {
            width: 100%;
            min-height: 500px;
            background: transparent;
            border: none;
            outline: none;
            color: var(--text);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.92rem;
            line-height: 1.85;
            resize: vertical;
            padding: 24px 24px 24px 70px;
            tab-size: 4;
            white-space: pre;
            overflow-wrap: normal;
            overflow-x: auto;
        }

        .practice-editor::placeholder {
            color: var(--text-dim);
        }

        .practice-controls {
            display: flex;
            gap: 14px;
            margin: 24px 0;
            flex-wrap: wrap;
        }

        /* Reference Panel - Right Sidebar Style (like AI chat) */
        .reference-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 45%;
            max-width: 500px;
            min-width: 300px;
            height: 100vh;
            background: var(--bg-secondary, #1E1F20);
            border-left: 1px solid var(--border);
            z-index: 1500;
            display: flex;
            flex-direction: column;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .reference-panel.show {
            transform: translateX(0);
        }

        body.reference-panel-open .container {
            margin-right: 45%;
            max-width: calc(1100px - 45%);
            transition: margin-right 0.3s ease;
        }

        .reference-panel-header {
            padding: 16px 20px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .reference-panel-header h4 {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .reference-panel-body {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }

        .reference-code-wrapper {
            display: flex;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.85;
        }

        .reference-line-numbers {
            padding: 16px 12px;
            background: rgba(0, 0, 0, 0.2);
            border-right: 1px solid var(--border);
            color: var(--text-dim);
            text-align: right;
            user-select: none;
            flex-shrink: 0;
            min-width: 40px;
        }

        .reference-code {
            padding: 16px;
            color: var(--text-secondary);
            white-space: pre;
            overflow-x: auto;
            flex: 1;
        }

        .reference-code .line {
            display: block;
            padding: 0 8px;
            border-radius: 4px;
        }

        .reference-code .line.highlight {
            background: rgba(168, 199, 250, 0.15);
            border-left: 3px solid var(--accent, #A8C7FA);
            margin-left: -3px;
        }

        .current-line-info {
            padding: 8px 16px;
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border);
            font-size: 0.8rem;
            color: var(--text-dim);
            text-align: center;
        }

        .indent-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            font-size: 0.8rem;
            color: var(--text-muted);
            display: none;
            z-index: 100;
        }

        .indent-indicator.show {
            display: block;
            animation: fadeSlideIn 0.2s ease;
        }

        .tips-section {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            padding: 20px 24px;
            margin-bottom: 28px;
            border: 1px solid var(--border);
        }

        .tips-section h3 {
            font-size: 0.95rem;
            color: var(--accent);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .tips-section ul {
            list-style: none;
            color: var(--text-secondary);
            font-size: 0.88rem;
        }

        .tips-section li {
            padding: 6px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .tips-section li::before {
            content: '→';
            color: var(--accent);
            font-weight: bold;
        }

        kbd {
            background: var(--bg-tertiary);
            padding: 2px 8px;
            border-radius: 4px;
            border: 1px solid var(--border);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>?뱷 諛깆?蹂듭뒿 紐⑤뱶</h1>
            <p class="subtitle">肄붾뱶瑜?吏곸젒 ??댄븨?섎ŉ ?곌껐 由ъ뒪?몃? ?꾩쟾????寃껋쑝濡?</p>
        </header>

        <a href="../quiz.html" class="btn btn-back" style="margin-bottom:24px;">???댁쫰濡??뚯븘媛湲?/a>

            <div class="tips-section">
                <h3>?뮕 ?ъ슜踰?/h3>
                    <ul>
                        <li><kbd>:</kbd> ?낅젰 ???먮룞 ?ㅼ뿬?곌린 (肄쒕줎 ??Enter)</li>
                        <li><kbd>Enter</kbd> 횞 2 (鍮?以꾩뿉?? ???ㅼ뿬?곌린 ???④퀎 ?댁젣</li>
                        <li><kbd>Tab</kbd> ???ㅼ뿬?곌린 異붽? / <kbd>Shift+Tab</kbd> ???ㅼ뿬?곌린 ?쒓굅</li>
                        <li>李몄“ 肄붾뱶瑜?蹂대㈃???곗뒿?섍굅?? ?꾩쟾 諛깆? ?곹깭?먯꽌 ?꾩쟾?대낫?몄슂!</li>
                    </ul>
            </div>

            <div class="practice-header">
                <h2>?뻿截?肄붾뱶 吏곸젒 ?묒꽦</h2>
                <div class="practice-stats">
                    <span>?뱞 以? <strong id="lineCount">1</strong></span>
                    <span>?뵥 湲?? <strong id="charCount">0</strong></span>
                </div>
            </div>

            <div class="editor-wrapper">
                <div class="line-numbers" id="lineNumbers">1</div>
                <textarea class="practice-editor" id="practiceEditor" placeholder="?ш린???곌껐 由ъ뒪??肄붾뱶瑜?吏곸젒 ?묒꽦?대낫?몄슂...

class Node():
    def __init__(self):
        ..." spellcheck="false"></textarea>
            </div>

            <div class="practice-controls">
                <button class="btn btn-primary" onclick="clearEditor()">?뿊截??꾩껜 吏?곌린</button>
                <button class="btn btn-secondary" onclick="toggleReference()">?뱰 李몄“ 肄붾뱶 蹂닿린</button>
                <button class="btn btn-secondary" onclick="copyToClipboard()">?뱥 蹂듭궗</button>
            </div>

            <div class="reference-panel" id="referencePanel">
                <div class="reference-panel-header">
                    <h4>?뱴 李몄“ 肄붾뱶 (12二쇱감 ?뚯뒪肄붾뱶)</h4>
                    <button class="btn btn-back" onclick="toggleReference()"
                        style="padding:6px 12px;font-size:0.8rem;">?リ린</button>
                </div>
                <div class="reference-panel-body">
                    <pre class="reference-code" id="referenceCode"></pre>
                </div>
            </div>

            <div class="indent-indicator" id="indentIndicator">?ㅼ뿬?곌린: <span id="indentLevel">0</span> 移?/div>
            </div>

            <script>
                // Reference code content - Full version
                const REFERENCE_CODE = `## ?대옒?ㅼ? ?⑥닔 ?좎뼵 遺遺?##
class Node():
    def __init__(self):
        self.data = None
        self.link = None

def printNodes(start):
    """?꾩옱 ?곌껐 由ъ뒪???꾩껜瑜?異쒕젰"""
    current = start
    if current is None:
        print("(鍮?由ъ뒪??")
        return
    print("?꾩옱 由ъ뒪??", end=' ')
    print(current.data, end=' ')
    while current.link is not None:
        current = current.link
        print(current.data, end=' ')
    print()

def get_list_data():
    """?곌껐 由ъ뒪?몄쓽 data?ㅼ쓣 ?뚯씠??由ъ뒪?몃줈 諛섑솚 (?뚯씪 ??μ슜)"""
    result = []
    current = head
    while current is not None:
        result.append(current.data)
        current = current.link
    return result

def appendNode(newData):
    """留??ㅼ뿉 ?몃뱶 異붽?"""
    global head
    node = Node()
    node.data = newData
    if head is None:
        head = node
        return
    current = head
    while current.link is not None:
        current = current.link
    current.link = node

def insertNode(findData, insertData):
    """?뱀젙 ?곗씠???욎뿉 ?쎌엯, 紐?李얠쑝硫?留??ㅼ뿉 異붽?"""
    global head
    
    # 由ъ뒪?멸? 鍮꾩뼱 ?덉쓣 寃쎌슦
    if head is None:
        node = Node()
        node.data = insertData
        head = node
        return

    # 泥?踰덉㎏ ?몃뱶媛 findData??寃쎌슦 (留????쎌엯)
    if head.data == findData:
        node = Node()
        node.data = insertData
        node.link = head
        head = node
        return

    # 洹????몃뱶 ?먯깋
    current = head
    while current.link is not None:
        pre = current
        current = current.link
        if current.data == findData:
            node = Node()
            node.data = insertData
            node.link = current
            pre.link = node
            return

    # findData瑜??앷퉴吏 紐?李얠쑝硫?留??ㅼ뿉 異붽?
    node = Node()
    node.data = insertData
    current.link = node

def insertAt(index, data):
    """?뱀젙 ?몃뜳???꾩튂???몃뱶 ?쎌엯"""
    global head
    
    if index < 0:
        print("?몃뜳?ㅻ뒗 0 ?댁긽?댁뼱???⑸땲??")
        return

    newNode = Node()
    newNode.data = data

    # ?몃뜳?ㅺ? 0 (留????쎌엯)
    if index == 0:
        newNode.link = head
        head = newNode
        return

    # 以묎컙 ?먮뒗 ???쎌엯???꾪빐 ?쒗쉶
    current = head
    currentIndex = 0
    
    # ?쎌엯 ?꾩튂 諛붾줈 吏곸쟾(index-1)源뚯? ?대룞
    while current is not None and currentIndex < index - 1:
        current = current.link
        currentIndex += 1
    
    if current is None:
        print("?몃뜳?ㅺ? 由ъ뒪?몄쓽 湲몄씠瑜?珥덇낵?덉뒿?덈떎.")
        return

    # ?쎌엯 ?ㅽ뻾
    newNode.link = current.link
    current.link = newNode

def deleteNode(deleteData):
    """?뱀젙 ?곗씠????젣"""
    global head, current, pre

    if head is None:
        print("??젣???몃뱶媛 ?놁뒿?덈떎.(鍮?由ъ뒪??")
        return

    # 泥?踰덉㎏ ?몃뱶媛 ??젣 ??곸씤 寃쎌슦
    if head.data == deleteData:
        current = head
        head = head.link
        del(current)
        return

    # 洹????몃뱶 ?먯깋
    current = head
    while current.link is not None:
        pre = current
        current = current.link
        if current.data == deleteData:
            pre.link = current.link
            del(current)
            return

    print(f"'{deleteData}' ?곗씠?곕? 李얠쓣 ???놁뒿?덈떎.")

def clearList():
    """由ъ뒪???꾩껜 珥덇린??""
    global head
    head = None
    print("由ъ뒪?멸? 珥덇린?붾릺?덉뒿?덈떎.")

def searchNode(target):
    """target??寃?됲빐???몃뜳??由ъ뒪??諛섑솚"""
    global head
    indexes = []
    current = head
    idx = 0
    while current is not None:
        if current.data == target:
            indexes.append(idx)
        current = current.link
        idx += 1
    return indexes

def saveToFile(filename):
    """?꾩옱 由ъ뒪???곗씠?곕? ?뚯씪?????""
    data_list = get_list_data()
    with open(filename, 'w', encoding='utf-8') as f:
        for item in data_list:
            f.write(str(item) + '\\n')
    print(f"由ъ뒪?멸? ?뚯씪濡???λ릺?덉뒿?덈떎. ({filename})")

def loadFromFile(filename):
    """?뚯씪?먯꽌 ?곗씠?곕? ?쎌뼱 由ъ뒪???ш뎄??""
    global head
    try:
        with open(filename, 'r', encoding='utf-8') as f:
            lines = f.readlines()
    except FileNotFoundError:
        print("?뚯씪??李얠쓣 ???놁뒿?덈떎.")
        return

    # 湲곗〈 由ъ뒪??珥덇린?????ㅼ떆 援ъ꽦
    head = None
    for line in lines:
        data = line.strip()
        if data != '':
            appendNode(data)
    print(f"?뚯씪?먯꽌 由ъ뒪?몃? 遺덈윭?붿뒿?덈떎. ({filename})")

## ?꾩뿭 蹂???좎뼵 遺遺?##
memory = []
head, current, pre = None, None, None

## 硫붿씤 肄붾뱶 遺遺?##
if __name__ == "__main__":
    # 珥덇린 ?곗씠???뗮똿
    dataArray = ["?쒖슱?", "怨좊?", "?곕?", "?먯썝", "遺??]
    for data in dataArray:
        appendNode(data)
    
    print("珥덇린 ?곌껐 由ъ뒪??")
    printNodes(head)

    # ?ъ슜???낅젰 湲곕컲 硫붾돱
    select = -1
    while select != 9:
        print("\\n--- ?곌껐 由ъ뒪??硫붾돱 ---")
        print("1: 異붽? (留???")
        print("2: ?쎌엯 (?뱀젙 ?곗씠???욎뿉 ?쎌엯)")
        print("3: ?쎌엯 (?뱀젙 ?꾩튂???쎌엯)")
        print("4: ??젣 (?뱀젙 ?곗씠????젣 / ??젣 ???뺤씤)")
        print("5: 由ъ뒪??珥덇린??)
        print("6: 寃??(?곗씠??-> ?몃뜳??")
        print("7: ?뚯씪 ???)
        print("8: ?뚯씪 遺덈윭?ㅺ린")
        print("9: 醫낅즺")

        try:
            select = int(input("硫붾돱 ?좏깮: "))
        except ValueError:
            print("?レ옄瑜??낅젰?섏꽭??")
            continue

        if select == 1:
            data = input("異붽????곗씠???낅젰: ")
            appendNode(data)
            printNodes(head)
        
        elif select == 2:
            findData = input("?대뒓 ?곗씠???욎뿉 ?쎌엯?좉퉴?? (李얠쓣 ?곗씠??: ")
            insertData = input("?쎌엯???곗씠???낅젰: ")
            insertNode(findData, insertData)
            printNodes(head)
        
        elif select == 3:
            try:
                idx = int(input("?쎌엯???몃뜳??踰덊샇 ?낅젰: "))
                data = input("?쎌엯???곗씠???낅젰: ")
                insertAt(idx, data)
                printNodes(head)
            except ValueError:
                print("?몃뜳?ㅻ뒗 ?レ옄濡??낅젰?댁빞 ?⑸땲??")

        elif select == 4:
            delData = input("??젣???곗씠???낅젰: ")
            confirm = input(f"?뺣쭚濡?'{delData}'瑜???젣?좉퉴?? (y/n): ")
            if confirm.lower() == 'y':
                deleteNode(delData)
                printNodes(head)
            else:
                print("??젣瑜?痍⑥냼?덉뒿?덈떎.")
                printNodes(head)

        elif select == 5:
            clearList()
            printNodes(head)

        elif select == 6:
            data = input("寃?됲븷 ?곗씠???낅젰: ")
            indexes = searchNode(data)
            if indexes:
                print(f"'{data}' ?곗씠?곕뒗 ?ㅼ쓬 ?몃뜳?ㅼ뿉 ?덉뒿?덈떎: {indexes}")
            else:
                print(f"'{data}' ?곗씠?곕뒗 由ъ뒪?몄뿉 ?놁뒿?덈떎.")

        elif select == 7:
            filename = input("??ν븷 ?뚯씪 ?대쫫 ?낅젰                 .txt): ")
            saveToFile(filename)

        elif s                 8:
            filename = input("遺덈윭???뚯씪 ?대쫫 ?낅젰 (?? data.                
            loadFromFile(filename)
            printNod                

        elif select == 9:
            print("?꾨줈洹몃옩??醫                )
        
        else:
            print("?섎せ???좏깮?낅땲?? ?ㅼ떆 ?낅젰?섏꽭                        const editor = document.getElementById('practiceEdit                      const lineNumbers = document.getElementById('lineNumbers');                 const lineCount = docu                ElementById('lineCount');
                   st charCount = document                entById('charCount');
        const indent                r = document.getElementById('                dicator');
        const indentLevel = docume                ementById('indentLevel');
                       eferenceCode = document.getElem                    erenceCode');

        let currentIndent                      let lastKeyWasEnter = false                    nst INDENT_SIZE                      const INDENT_CHARS = '    '; // 4                         // Initialize ref                                          nceCode.textContent = REFERENCE_                       // Update line numbers and s                     function updateLineNumbers() {
            c                es                 .value.split('\n');
            co                t = lines.length;

            let                                for (let i = 1; i <= count; i                              html += i + '\n';                     }
            lineNumbers.textContent = html;
            li                    Content = count;
            charCount.textCont                    .value.length;
        }

        // Get current line's indentation
        funct                    ntLineIndent() {                     const cursorPos = editor.s                                   const text = edit                              const lineStart = text.lastIndexOf('\n',                          1;
                            ne                    ndexOf('\n', cu                ;
                    const line = text.substring(lin                lineEnd === -1 ? text.length : li                             let indent = 0;
            for                     of line) {
                                     ' ') indent++;
                else if (char === '\t') inden                    SIZE;
                else break;
                                              rn indent;
        }

        // Get line content be                sor
        function getLineBefo                    
            const cursorPos = edito                    tart;
            const tex                or.                           const lineStar                .lastIndexOf('\n', cursorPos - 1                           return text.substring(lineStar                    );
        }

        // Check if                    e is empty (only whitespace)
                    tion isCurrentLineEmpty() {
            const line = getLineBeforeCursor                        return line.trim() === '';
        }

        // Insert text at                                   ction insertAtCursor(text) {
                    const start = editor.selectionStart;
                     onst end = editor.selectionEnd;
                     onst value = editor.value;

                               e = value.substring                        t + value.substring(end);
            edit                    Start = ed                ect                 start + text.length;
                           // Show indent indicator briefly
        f                    IndentIndicator(level) {
                        ntLevel.textContent =                            indentIndicator.classList.add('show');
                             t(() => {
                indentIndicator.classList                        
            }, 1500);
        }

        // Handle keydown ev                        tor.addEventListener('keydown', function (e) {
            if (e.key ===                                    e.preventDefault();

                const li                            LineBeforeCursor();
                const                             getCurrentLineIndent();

                             uble enter on empty line - reduce indent AND add newline
                                 eyWasEnter && isCurrentLineEmpty()                            t > 0) {
                    // Remove one level of indentation                                               const cursorPos = editor.selectionStart                              const text = editor.value;
                    const lineStart = text                            ursorPos - 1) + 1;

                    // Find how much indent to remove
                                          ount = Math.min(INDENT_SIZE, currentLineIndent)                              const newIndentLevel = currentLineIndent - removeAmount;

                             / Remove indent from current line and add newl                            ent
                    editor.value = text.substrin                            xt.substring(lineStart + removeA                                    const newCursorPos = cursorP                                               edito                         = editor                            ursorPos;

                    // Now insert ne                            ed indent
                    insertAtCursor(                            wIndentLevel));

                    currentInden                                                showIndentIndic                            
                                                   
                } else {
                            //                             ith colon - auto indent
                                              = lineBeforeCursor.trim();
                                               = trimmedLine.endsWith(':');                              let newIndent = cu                                             if (shouldIndent) {
                                ne                            ZE;
                                                                       wline with proper ind                                                    tCu                    ' '.repeat(newIn                                    current                        nt;

                                        dent) {
                                      dentIndicator(currentIndent)                              }

                    lastKeyWasEnter                                 }

                upda                                         return;
            }

            // Tab handlin                            key === 'Tab') {
                e.prevent                                    if (e.shiftKe                                 // Shift+Tab: remove indent
                    const cursorPos                                 
                    const text = editor.value;
                                t lineStart                             \n'                            ;

                                                    ntation to remove
                    let removeCount = 0;
                    for (let                                && lineStart + i < cursorPos; i++) {
                        if (text[l                            ')                                                             break;
                                                   if (removeCount > 0                                                   value = text.substrin                        + text.s                    eSt                    Count);
                        ed                    onStart = editor.selectio                         - removeCount;
                             
                                       {
                                ab: add indent
                    insertAtCursor(INDE                );
                                           updateLineNumbers();
                                            }

            // Reset enter                 other                          if (e.ke                nter') {
                             eyWasEnter = false;
                    }
        });

                           n input
        editor.addEventListene                        eLineNumbers);

                           oll
        editor.                        ('scroll', function (                        lineNumbers.scro                    or                op;                 });

        // Initial upda                    pdateLineNumbers();

        // Control functions
                           earEditor() {
            if (co                뺣쭚濡                ??吏?곗떆寃좎뒿?덇퉴?')) {
                             r.value = '';
                currentIndent = 0;
                                neNumbers();
                                ocus();
                                         function toggleReference() {
                    cons                = menementById('referencePanel');
            panel.classList.toggle('show');
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(editor.value).then(() => {
                alert('?대┰蹂대뱶??蹂듭궗?섏뿀?듬땲??');
            }).catch(err => {
                console.error('Copy failed:', err);
            });
        }
            </script>
</body>

</html>